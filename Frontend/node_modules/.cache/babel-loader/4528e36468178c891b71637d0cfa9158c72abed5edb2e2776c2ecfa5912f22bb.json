{"ast":null,"code":"import _objectSpread from\"/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createClass from\"/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import{createStore}from\"redux\";import jwtDecode from\"jwt-decode\";export var AuthState=/*#__PURE__*/_createClass(function AuthState(){_classCallCheck(this,AuthState);this.token=null;this.user=null;this.token=sessionStorage.getItem(\"token\");if(this.token){var jwtPayload=jwtDecode(this.token);this.user=jwtPayload.user;}});export var AuthActionType;(function(AuthActionType){AuthActionType[\"Register\"]=\"Register\";AuthActionType[\"Login\"]=\"Login\";AuthActionType[\"Logout\"]=\"Logout\";AuthActionType[\"EmptyStore\"]=\"EmptyStore\";})(AuthActionType||(AuthActionType={}));export function authReducer(){var currentState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new AuthState();var action=arguments.length>1?arguments[1]:undefined;var newState=_objectSpread({},currentState);switch(action.type){case AuthActionType.Register:case AuthActionType.Login:newState.token=action.payload;var jwtPayload=jwtDecode(newState.token);newState.user=jwtPayload.user;sessionStorage.setItem(\"token\",newState.token);break;case AuthActionType.Logout:newState.token=null;newState.user=null;sessionStorage.removeItem(\"token\");break;}return newState;}export var authStore=createStore(authReducer);","map":{"version":3,"names":["createStore","jwtDecode","AuthState","token","user","sessionStorage","getItem","jwtPayload","AuthActionType","authReducer","currentState","action","newState","type","Register","Login","payload","setItem","Logout","removeItem","authStore"],"sources":["/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/src/Redux/AuthState.ts"],"sourcesContent":["import { createStore } from \"redux\";\r\nimport jwtDecode from \"jwt-decode\";\r\nimport UserModel from \"../Models/UserModel\";\r\n\r\nexport class AuthState {\r\n\r\n    public token: string = null;\r\n    public user: UserModel = null;\r\n    \r\n    public constructor() {\r\n        this.token = sessionStorage.getItem(\"token\");\r\n        if(this.token) {\r\n            const jwtPayload = jwtDecode(this.token);\r\n            this.user = (jwtPayload as any).user;\r\n        }\r\n    }\r\n}\r\n\r\nexport enum AuthActionType {\r\n    Register = \"Register\",\r\n    Login = \"Login\",\r\n    Logout = \"Logout\",\r\n    EmptyStore = \"EmptyStore\"\r\n}\r\n\r\nexport interface AuthAction {\r\n    type: AuthActionType;\r\n    payload?: any;\r\n}\r\n\r\nexport function authReducer(currentState = new AuthState(), action: AuthAction): AuthState {\r\n\r\n    const newState = { ...currentState };\r\n\r\n    switch (action.type) {\r\n\r\n        case AuthActionType.Register:\r\n        case AuthActionType.Login:\r\n            newState.token = action.payload;\r\n            const jwtPayload = jwtDecode(newState.token);\r\n            newState.user = (jwtPayload as any).user;\r\n            sessionStorage.setItem(\"token\", newState.token);\r\n            break;\r\n\r\n        case AuthActionType.Logout:\r\n            newState.token = null;\r\n            newState.user = null;\r\n            sessionStorage.removeItem(\"token\");\r\n            break;\r\n    }\r\n\r\n    return newState;\r\n}\r\n\r\nexport const authStore = createStore(authReducer);"],"mappings":"6sBAAA,OAASA,WAAW,KAAQ,OAAO,CACnC,MAAOC,UAAS,KAAM,YAAY,CAGlC,UAAaC,UAAS,2BAKlB,oBAAqB,sCAHdC,KAAK,CAAW,IAAI,MACpBC,IAAI,CAAc,IAAI,CAGzB,IAAI,CAACD,KAAK,CAAGE,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAC5C,GAAG,IAAI,CAACH,KAAK,CAAE,CACX,GAAMI,WAAU,CAAGN,SAAS,CAAC,IAAI,CAACE,KAAK,CAAC,CACxC,IAAI,CAACC,IAAI,CAAIG,UAAU,CAASH,IAAI,CACxC,CACJ,CAAC,EAGL,UAAYI,eAAc,CAKzB,UALWA,cAAc,EAAdA,cAAc,wBAAdA,cAAc,kBAAdA,cAAc,oBAAdA,cAAc,+BAAdA,cAAc,GAAdA,cAAc,MAY1B,MAAO,SAASC,YAAW,EAAgE,IAA/DC,aAAY,2DAAG,GAAIR,UAAS,EAAE,IAAES,OAAkB,2CAE1E,GAAMC,SAAQ,kBAAQF,YAAY,CAAE,CAEpC,OAAQC,MAAM,CAACE,IAAI,EAEf,IAAKL,eAAc,CAACM,QAAQ,CAC5B,IAAKN,eAAc,CAACO,KAAK,CACrBH,QAAQ,CAACT,KAAK,CAAGQ,MAAM,CAACK,OAAO,CAC/B,GAAMT,WAAU,CAAGN,SAAS,CAACW,QAAQ,CAACT,KAAK,CAAC,CAC5CS,QAAQ,CAACR,IAAI,CAAIG,UAAU,CAASH,IAAI,CACxCC,cAAc,CAACY,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACT,KAAK,CAAC,CAC/C,MAEJ,IAAKK,eAAc,CAACU,MAAM,CACtBN,QAAQ,CAACT,KAAK,CAAG,IAAI,CACrBS,QAAQ,CAACR,IAAI,CAAG,IAAI,CACpBC,cAAc,CAACc,UAAU,CAAC,OAAO,CAAC,CAClC,MAAM,CAGd,MAAOP,SAAQ,CACnB,CAEA,MAAO,IAAMQ,UAAS,CAAGpB,WAAW,CAACS,WAAW,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}