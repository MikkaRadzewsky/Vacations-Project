{"ast":null,"code":"import _classCallCheck from\"/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{Notyf}from\"notyf\";var NotifyService=/*#__PURE__*/function(){function NotifyService(){_classCallCheck(this,NotifyService);this.notify=new Notyf({duration:3000,position:{x:\"center\",y:\"top\"},dismissible:true});}_createClass(NotifyService,[{key:\"success\",value:function success(message){this.notify.success(message);}},{key:\"error\",value:function error(err){var message=this.extractErrorMessage(err);this.notify.error(message);}},{key:\"extractErrorMessage\",value:function extractErrorMessage(err){var _err$response,_err$response2;// Front: throw \"some error...\";\nif(typeof err===\"string\")return err;// Back: throws string (500 - server crash / 401 - unauthorized / 404...)\nif(typeof((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)===\"string\")return err.response.data;// Back throws string[] (400 - validation)\nif(Array.isArray((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data))return err.response.data[0];// Front: throw new Error(\"some error...\");\nif(typeof err.message===\"string\")return err.message;// Other: \nreturn\"Some error occurred, please try again\";}}]);return NotifyService;}();var notifyService=new NotifyService();export default notifyService;","map":{"version":3,"names":["Notyf","NotifyService","notify","duration","position","x","y","dismissible","message","success","err","extractErrorMessage","error","response","data","Array","isArray","notifyService"],"sources":["/Users/raniradzewsky/Library/Mobile Documents/com~apple~CloudDocs/Documents/school/John Bryce/John Bryce Projects/Project 3/Vacations Project 5.0/Frontend/src/Services/NotifyService.ts"],"sourcesContent":["import { Notyf } from \"notyf\"; \r\n\r\nclass NotifyService {\r\n\r\n    private notify = new Notyf({\r\n        duration: 3000, \r\n        position: { x: \"center\", y: \"top\" }, \r\n        dismissible: true \r\n    });\r\n\r\n    public success(message: string): void {\r\n        this.notify.success(message);\r\n    }\r\n\r\n    public error(err: any): void {\r\n        const message = this.extractErrorMessage(err);\r\n        this.notify.error(message);\r\n    }\r\n\r\n    private extractErrorMessage(err: any): string {\r\n\r\n        // Front: throw \"some error...\";\r\n        if (typeof err === \"string\") return err;\r\n\r\n        // Back: throws string (500 - server crash / 401 - unauthorized / 404...)\r\n        if (typeof err.response?.data === \"string\") return err.response.data;\r\n\r\n        // Back throws string[] (400 - validation)\r\n        if (Array.isArray(err.response?.data)) return err.response.data[0];\r\n\r\n        // Front: throw new Error(\"some error...\");\r\n        if (typeof err.message === \"string\") return err.message;\r\n\r\n        // Other: \r\n        return \"Some error occurred, please try again\";\r\n    }\r\n\r\n}\r\n\r\nconst notifyService = new NotifyService();\r\n\r\nexport default notifyService;\r\n"],"mappings":"8dAAA,OAASA,KAAK,KAAQ,OAAO,CAAC,GAExBC,cAAa,2FAEPC,MAAM,CAAG,GAAIF,MAAK,CAAC,CACvBG,QAAQ,CAAE,IAAI,CACdC,QAAQ,CAAE,CAAEC,CAAC,CAAE,QAAQ,CAAEC,CAAC,CAAE,KAAM,CAAC,CACnCC,WAAW,CAAE,IACjB,CAAC,CAAC,mDAEF,iBAAeC,OAAe,CAAQ,CAClC,IAAI,CAACN,MAAM,CAACO,OAAO,CAACD,OAAO,CAAC,CAChC,CAAC,qBAED,eAAaE,GAAQ,CAAQ,CACzB,GAAMF,QAAO,CAAG,IAAI,CAACG,mBAAmB,CAACD,GAAG,CAAC,CAC7C,IAAI,CAACR,MAAM,CAACU,KAAK,CAACJ,OAAO,CAAC,CAC9B,CAAC,mCAED,6BAA4BE,GAAQ,CAAU,kCAE1C;AACA,GAAI,MAAOA,IAAG,GAAK,QAAQ,CAAE,MAAOA,IAAG,CAEvC;AACA,GAAI,sBAAOA,GAAG,CAACG,QAAQ,wCAAZ,cAAcC,IAAI,IAAK,QAAQ,CAAE,MAAOJ,IAAG,CAACG,QAAQ,CAACC,IAAI,CAEpE;AACA,GAAIC,KAAK,CAACC,OAAO,iBAACN,GAAG,CAACG,QAAQ,yCAAZ,eAAcC,IAAI,CAAC,CAAE,MAAOJ,IAAG,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CAElE;AACA,GAAI,MAAOJ,IAAG,CAACF,OAAO,GAAK,QAAQ,CAAE,MAAOE,IAAG,CAACF,OAAO,CAEvD;AACA,MAAO,uCAAuC,CAClD,CAAC,6BAIL,GAAMS,cAAa,CAAG,GAAIhB,cAAa,EAAE,CAEzC,cAAegB,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}